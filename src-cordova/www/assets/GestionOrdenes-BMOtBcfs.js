import{A as ue,D as he,h as v,aH as xe,aR as ke,U as Ie,V as Le,W as Ve,aS as Ce,g as we,X as Ee,r as b,aT as _e,Z as Oe,c as x,w as te,aU as Qe,ab as se,a9 as W,a1 as P,aV as Ne,a3 as Te,aa as R,v as ce,S as je,Y as ge,ak as De,o as qe,aW as $e,av as le,k as H,l as Q,m as n,n as l,f as a,t as me,x as B,a6 as _,ao as ve,Q as K,p as Z,y as g,a7 as ee,F as ae,a8 as ne,az as Ae,an as fe,aX as Be}from"./index-D5vjZng5.js";import{Q as Pe,a as Re,b as be}from"./QMarkupTable-D_s8XBCj.js";import{a as J,Q as oe}from"./selection-DN5zOXK0.js";import{Q as Me}from"./QTd-CPa24jRu.js";import{Q as Ue}from"./QTable-BEUxk8-q.js";import{Q as ye,a as Se}from"./QToolbar-DlwkFhaC.js";import{Q as Fe}from"./QPage-BJi1r_Vy.js";import{C as z}from"./ClosePopup-CQ1NU53x.js";import{u as He}from"./use-quasar-BKhMSG19.js";import{U as ie}from"./Utils-Bl6bKBe-.js";import{api as re}from"./axios-CEIDL2YN.js";import"./format-DyQxkAtJ.js";const ze=ue({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:S,emit:q}){let C=!1,w,m,h=null,y=null,L,p;function k(){w==null||w(),w=null,C=!1,h!==null&&(clearTimeout(h),h=null),y!==null&&(clearTimeout(y),y=null),m==null||m.removeEventListener("transitionend",L),L=null}function f(o,I,V){I!==void 0&&(o.style.height=`${I}px`),o.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,C=!0,w=V}function c(o,I){o.style.overflowY=null,o.style.height=null,o.style.transition=null,k(),I!==p&&q(I)}function T(o,I){let V=0;m=o,C===!0?(k(),V=o.offsetHeight===o.scrollHeight?0:void 0):(p="hide",o.style.overflowY="hidden"),f(o,V,I),h=setTimeout(()=>{h=null,o.style.height=`${o.scrollHeight}px`,L=E=>{y=null,(Object(E)!==E||E.target===o)&&c(o,"show")},o.addEventListener("transitionend",L),y=setTimeout(L,e.duration*1.1)},100)}function N(o,I){let V;m=o,C===!0?k():(p="show",o.style.overflowY="hidden",V=o.scrollHeight),f(o,V,I),h=setTimeout(()=>{h=null,o.style.height=0,L=E=>{y=null,(Object(E)!==E||E.target===o)&&c(o,"hide")},o.addEventListener("transitionend",L),y=setTimeout(L,e.duration*1.1)},100)}return he(()=>{C===!0&&k()}),()=>v(xe,{css:!1,appear:e.appear,onEnter:T,onLeave:N},S.default)}}),Y=ke({}),Ye=Object.keys(Ce),Ke=ue({name:"QExpansionItem",props:{...Ce,...Ve,...Le,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ie,"click","afterShow","afterHide"],setup(e,{slots:S,emit:q}){const{proxy:{$q:C}}=we(),w=Ee(e,C),m=b(e.modelValue!==null?e.modelValue:e.defaultOpened),h=b(null),y=_e(),{show:L,hide:p,toggle:k}=Oe({showing:m});let f,c;const T=x(()=>`q-expansion-item q-item-type q-expansion-item--${m.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),N=x(()=>e.contentInsetLevel===void 0?null:{["padding"+(C.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),o=x(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),I=x(()=>{const i={};return Ye.forEach(D=>{i[D]=e[D]}),i}),V=x(()=>o.value===!0||e.expandIconToggle!==!0),E=x(()=>e.expandedIcon!==void 0&&m.value===!0?e.expandedIcon:e.expandIcon||C.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),X=x(()=>e.disable!==!0&&(o.value===!0||e.expandIconToggle===!0)),G=x(()=>({expanded:m.value===!0,detailsId:y.value,toggle:k,show:L,hide:p})),$=x(()=>{const i=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:C.lang.label[m.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":m.value===!0?"true":"false","aria-controls":y.value,"aria-label":i}});te(()=>e.group,i=>{c==null||c(),i!==void 0&&U()});function r(i){o.value!==!0&&k(i),q("click",i)}function t(i){i.keyCode===13&&d(i,!0)}function d(i,D){var F;D!==!0&&i.qAvoidFocus!==!0&&((F=h.value)==null||F.focus()),k(i),je(i)}function j(){q("afterShow")}function M(){q("afterHide")}function U(){f===void 0&&(f=Qe()),m.value===!0&&(Y[e.group]=f);const i=te(m,F=>{F===!0?Y[e.group]=f:Y[e.group]===f&&delete Y[e.group]}),D=te(()=>Y[e.group],(F,pe)=>{pe===f&&F!==void 0&&F!==f&&p()});c=()=>{i(),D(),Y[e.group]===f&&delete Y[e.group],c=void 0}}function u(){const i={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},D=[v(ce,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&m.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:E.value})];return X.value===!0&&(Object.assign(i,{tabindex:0,...$.value,onClick:d,onKeyup:t}),D.unshift(v("div",{ref:h,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),v(R,i,()=>D)}function O(){let i;return S.header!==void 0?i=[].concat(S.header(G.value)):(i=[v(R,()=>[v(J,{lines:e.labelLines},()=>e.label||""),e.caption?v(J,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&i[e.switchToggleSide===!0?"push":"unshift"](v(R,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>v(ce,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&i[e.switchToggleSide===!0?"unshift":"push"](u()),i}function s(){const i={ref:"item",style:e.headerStyle,class:e.headerClass,dark:w.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return V.value===!0&&(i.clickable=!0,i.onClick=r,Object.assign(i,o.value===!0?I.value:$.value)),v(W,i,O)}function A(){return P(v("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:N.value,id:y.value},Te(S.default)),[[Ne,m.value]])}function de(){const i=[s(),v(ze,{duration:e.duration,onShow:j,onHide:M},A)];return e.expandSeparator===!0&&i.push(v(se,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:w.value}),v(se,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:w.value})),i}return e.group!==void 0&&U(),he(()=>{c==null||c()}),()=>v("div",{class:T.value},[v("div",{class:"q-expansion-item__container relative-position"},de())])}}),We={ratio:[String,Number]};function Xe(e,S){return x(()=>{const q=Number(e.ratio||(S!==void 0?S.value:void 0));return isNaN(q)!==!0&&q>0?{paddingBottom:`${100/q}%`}:null})}const Ge=1.7778,Ze=ue({name:"QImg",props:{...We,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Ge},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:S,emit:q}){const C=b(e.initialRatio),w=Xe(e,C),m=we(),{registerTimeout:h,removeTimeout:y}=ge(),{registerTimeout:L,removeTimeout:p}=ge(),k=x(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),f=x(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),c=[b(null),b(k.value)],T=b(0),N=b(!1),o=b(!1),I=x(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),V=x(()=>({width:e.width,height:e.height})),E=x(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),X=x(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function G(){if(p(),e.loadingShowDelay===0){N.value=!0;return}L(()=>{N.value=!0},e.loadingShowDelay)}function $(){p(),N.value=!1}function r({target:u}){le(m)===!1&&(y(),C.value=u.naturalHeight===0?.5:u.naturalWidth/u.naturalHeight,t(u,1))}function t(u,O){O===1e3||le(m)===!0||(u.complete===!0?d(u):h(()=>{t(u,O+1)},50))}function d(u){le(m)!==!0&&(T.value=T.value^1,c[T.value].value=null,$(),u.getAttribute("__qerror")!=="true"&&(o.value=!1),q("load",u.currentSrc||u.src))}function j(u){y(),$(),o.value=!0,c[T.value].value=f.value,c[T.value^1].value=k.value,q("error",u)}function M(u){const O=c[u].value,s={key:"img_"+u,class:E.value,style:X.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...O};return T.value===u?Object.assign(s,{class:s.class+"current",onLoad:r,onError:j}):s.class+="loaded",v("div",{class:"q-img__container absolute-full",key:"img"+u},v("img",s))}function U(){return N.value===!1?v("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Te(S[o.value===!0?"error":"default"])):v("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},S.loading!==void 0?S.loading():e.noSpinner===!0?void 0:[v($e,{color:e.spinnerColor,size:e.spinnerSize})])}{let u=function(){te(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,O=>{y(),o.value=!1,O===null?($(),c[T.value^1].value=k.value):G(),c[T.value].value=O},{immediate:!0})};De.value===!0?qe(u):u()}return()=>{const u=[];return w.value!==null&&u.push(v("div",{key:"filler",style:w.value})),c[0].value!==null&&u.push(M(0)),c[1].value!==null&&u.push(M(1)),u.push(v(xe,{name:"q-transition--fade"},U)),v("div",{key:"main",class:I.value,style:V.value,role:"img","aria-label":e.alt},u)}}}),Je={class:"bg-white row full q-gutter-sm q-pa-sm q-ma-sm"},et={class:"q-pa-sm bg-grey-2 rounded-borders q-mb-md"},tt={class:"row q-col-gutter-md"},lt={class:"col-12 col-md-6"},at={class:"col-12 col-md-6"},nt={class:"q-pa-md"},ot={class:"row q-col-gutter-md q-mb-md"},it={class:"col-12 col-md-6"},rt={class:"col-12 col-md-6"},st={class:"q-mt-md"},ut={class:"q-pa-md evidencias-container"},dt={class:"row q-col-gutter-md justify-center"},ct={class:"absolute-bottom bg-black bg-opacity-40 text-white text-center q-pa-xs text-caption truncate"},gt={class:"q-gutter-y-sm"},mt={align:"center"},kt={__name:"GestionOrdenes",setup(e){const S=He(),q=b([]),C=b([]),w=b(!0);b({});const m=b(""),h=b(null),y=b(!1),L=b({}),p=b({}),k=b({}),f=b({}),c=b([]);b(null);const T=b(""),N=[{name:"Codigo",label:"Código Radicado",field:"CodigoRadicado",align:"center",sortable:!0},{name:"Tecnico",label:"Técnico",field:"UsuarioTecnico",align:"center"},{name:"Fecha",label:"Fecha Creación",field:"FechaRadicado",align:"center",format:r=>ie.formatearFecha(r)},{name:"FechaEjecucion",label:"Fecha Ejecución",field:"FechaEjecucion",align:"center",format:r=>ie.formatearFecha(r)},{name:"Estado",label:"Estado",field:"EstadoSolicitud",align:"center",format:r=>{switch(r){case 3:return"En validación";case 4:return"Devuelto";default:return"Desconocido"}}},{name:"acciones",label:"Acciones",align:"center"}],o=async()=>{console.log(p.value);const r=await re.get(`/ordenservicio/${p.value.IdEmpresa}/traer-ordenes-empresa`);C.value=r.data,console.log()},I=r=>{Be.create({message:`<img src="${r.Ruta}" style="width: 90%;  border-radius: 8px;" />`,html:!0,persistent:!0})},V=async()=>{const r={IdPqrs:f.value.IdPqrs,IdTecnico:f.value.IdUsuarioTecnico,IdSupervisor:p.value.IdUsuario,Observacion:T.value},t=await re.post("/ordenservicio/guardar-observacion-orden",r);console.log(t)},E=x(()=>C.value.filter(r=>{const t=r.CodigoRadicado.toLowerCase().includes(m.value.toLowerCase()),d=!h.value||r.Estado===h.value;return t&&d})),X=async r=>{L.value=r,y.value=!0;const t=await re.post(`/ordenservicio/${p.value.IdEmpresa}/${r.IdPqrs}/traer-info-orden`);console.log(t);const d=t.data.Dato;k.value=d.Actividades,f.value=d.InfoPqrs,c.value=d.Materiales,q.value=d.Evidencias},G=r=>{S.dialog({title:"Aprobar orden",message:`¿Deseas aprobar la orden ${r.Codigo}?`,cancel:!0,persistent:!0}).onOk(()=>{r.Estado="Aprobada",S.notify({message:"Orden aprobada correctamente",color:"green",icon:"check"})})},$=r=>{S.dialog({title:"Devolver orden",message:`¿Deseas devolver la orden ${r.Codigo} al técnico?`,cancel:!0,persistent:!0}).onOk(()=>{r.Estado="Devuelta",S.notify({message:"Orden devuelta al técnico",color:"red",icon:"undo"})})};return qe(async()=>{try{const r=await ie.datoUsuario();if(!r){router.push("/Login");return}p.value=r}catch(r){console.error(r)}o()}),(r,t)=>(Q(),H(Fe,{class:"q-pa-md bg-grey-2"},{default:n(()=>[t[38]||(t[38]=l("div",{class:"text-h5 text-primary q-mb-md"}," Gestión de Órdenes de Servicio ",-1)),l("div",Je,[a(me,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=d=>m.value=d),label:"Buscar por código o técnico",dense:"",clearable:"",outlined:""},null,8,["modelValue"]),a(Pe,{modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=d=>h.value=d),options:["Pendiente","En validación","Aprobada","Devuelta"],label:"Filtrar por estado",dense:"",clearable:"",outlined:""},null,8,["modelValue"])]),a(Ue,{title:"Órdenes registradas",rows:E.value,columns:N,"row-key":"IdOrden",flat:"",bordered:"",dense:""},{"body-cell-acciones":n(d=>[a(Me,{align:"center"},{default:n(()=>[a(B,{flat:"",round:"",dense:"",icon:"view_headline"},{default:n(()=>[a(Re,null,{default:n(()=>[a(oe,{style:{"min-width":"100px"}},{default:n(()=>[P((Q(),H(W,{clickable:"",onClick:j=>X(d.row)},{default:n(()=>[a(R,null,{default:n(()=>[...t[6]||(t[6]=[_("Ver Orden",-1)])]),_:1})]),_:2},1032,["onClick"])),[[z]]),P((Q(),H(W,{clickable:"",onClick:j=>G(d.row)},{default:n(()=>[a(R,null,{default:n(()=>[...t[7]||(t[7]=[_("Aprobar Orden",-1)])]),_:1})]),_:2},1032,["onClick"])),[[z]]),P((Q(),H(W,{clickable:"",onClick:j=>$(d.row)},{default:n(()=>[a(R,null,{default:n(()=>[...t[8]||(t[8]=[_("Devolver Orden",-1)])]),_:1})]),_:2},1032,["onClick"])),[[z]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["rows"]),a(ve,{modelValue:y.value,"onUpdate:modelValue":t[5]||(t[5]=d=>y.value=d),maximized:"","full-width":""},{default:n(()=>[a(K,{style:{"min-width":"400px"}},{default:n(()=>[a(ye,{class:"bg-blue-grey-9 text-white"},{default:n(()=>[a(Se,null,{default:n(()=>[...t[9]||(t[9]=[_("Detalles de la Orden",-1)])]),_:1}),P(a(B,{flat:"",round:"",dense:"",icon:"close",onClick:r.VaciarObservacion},null,8,["onClick"]),[[z]])]),_:1}),a(Z,null,{default:n(()=>{var d,j,M,U,u,O;return[l("div",et,[t[16]||(t[16]=l("div",{class:"text-h6 text-primary q-mb-sm"},"Información del PQRS",-1)),l("div",tt,[l("div",lt,[l("p",null,[t[10]||(t[10]=l("b",null,"Código Radicado:",-1)),_(" "+g((d=f.value)==null?void 0:d.CodigoRadicado),1)]),l("p",null,[t[11]||(t[11]=l("b",null,"Código Documento:",-1)),_(" "+g((j=f.value)==null?void 0:j.CodigoDocumento),1)]),l("p",null,[t[12]||(t[12]=l("b",null,"Barrio:",-1)),_(" "+g((M=f.value)==null?void 0:M.NombreBarrio),1)])]),l("div",at,[l("p",null,[t[13]||(t[13]=l("b",null,"Nombre:",-1)),_(" "+g((U=f.value)==null?void 0:U.NombreCompleto),1)]),l("p",null,[t[14]||(t[14]=l("b",null,"Dirección:",-1)),_(" "+g((u=f.value)==null?void 0:u.Direccion),1)]),l("p",null,[t[15]||(t[15]=l("b",null,"Correo:",-1)),_(" "+g((O=f.value)==null?void 0:O.Correo),1)])])])]),l("div",nt,[t[33]||(t[33]=l("div",{class:"text-h6 text-primary q-mb-md"},"Lista de Actividades",-1)),a(oe,{bordered:"",separator:""},{default:n(()=>[(Q(!0),ee(ae,null,ne(k.value,(s,A)=>(Q(),H(Ke,{key:A,"expand-separator":"",icon:"engineering",label:s.TipoOperacion,caption:`Tipo Trabajo: ${s.TipoTrabajo} | Vieja: ${s.CodigoLuminariaVieja}  |  Nueva: ${s.CodigoLuminariaNueva}`,"header-class":"bg-grey-2 text-primary text-bold"},{default:n(()=>[a(K,{flat:"",bordered:"",class:"q-mt-sm q-pa-sm bg-grey-1"},{default:n(()=>[a(Z,null,{default:n(()=>[l("div",ot,[l("div",it,[a(K,{flat:"",bordered:""},{default:n(()=>[a(Z,{class:"bg-grey-3"},{default:n(()=>[...t[17]||(t[17]=[l("div",{class:"text-subtitle1 text-primary text-center"}," Luminaria Vieja ",-1)])]),_:1}),a(be,{flat:"",dense:"",separator:"cell"},{default:n(()=>[l("tbody",null,[l("tr",null,[t[18]||(t[18]=l("td",null,"Código",-1)),l("td",null,g(s.CodigoLuminariaVieja),1)]),l("tr",null,[t[19]||(t[19]=l("td",null,"Clase",-1)),l("td",null,g(s.ClaseLuminariaVieja),1)]),l("tr",null,[t[20]||(t[20]=l("td",null,"Tipo",-1)),l("td",null,g(s.TipoLuminariaVieja),1)]),l("tr",null,[t[21]||(t[21]=l("td",null,"Potencia",-1)),l("td",null,g(s.TipoPotenciaVieja),1)]),l("tr",null,[t[22]||(t[22]=l("td",null,"Marca",-1)),l("td",null,g(s.MarcaLuminariaVieja),1)]),l("tr",null,[t[23]||(t[23]=l("td",null,"Estado",-1)),l("td",null,g(s.EstadoLuminariaVieja),1)]),l("tr",null,[t[24]||(t[24]=l("td",null,"Verificación",-1)),l("td",null,g(s.VerificacionVieja),1)])])]),_:2},1024)]),_:2},1024)]),l("div",rt,[a(K,{flat:"",bordered:""},{default:n(()=>[a(Z,{class:"bg-grey-3"},{default:n(()=>[...t[25]||(t[25]=[l("div",{class:"text-subtitle1 text-positive text-center"}," Luminaria Nueva ",-1)])]),_:1}),a(be,{flat:"",dense:"",separator:"cell"},{default:n(()=>[l("tbody",null,[l("tr",null,[t[26]||(t[26]=l("td",null,"Código",-1)),l("td",null,g(s.CodigoLuminariaNueva),1)]),l("tr",null,[t[27]||(t[27]=l("td",null,"Clase",-1)),l("td",null,g(s.ClaseLuminariaNueva),1)]),l("tr",null,[t[28]||(t[28]=l("td",null,"Tipo",-1)),l("td",null,g(s.TipoLuminariaNueva),1)]),l("tr",null,[t[29]||(t[29]=l("td",null,"Potencia",-1)),l("td",null,g(s.TipoPotenciaNueva),1)]),l("tr",null,[t[30]||(t[30]=l("td",null,"Marca",-1)),l("td",null,g(s.MarcaLuminariaNueva),1)]),l("tr",null,[t[31]||(t[31]=l("td",null,"Estado",-1)),l("td",null,g(s.EstadoLuminariaNueva),1)]),l("tr",null,[t[32]||(t[32]=l("td",null,"Verificación",-1)),l("td",null,g(s.VerificacionNueva),1)])])]),_:2},1024)]),_:2},1024)])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["label","caption"]))),128))]),_:1})]),l("div",st,[t[35]||(t[35]=l("div",{class:"text-h6 text-primary q-mb-sm col-8 col-sm-3 col-md-4 col-lg-3"},"Materiales Utilizados ",-1)),a(oe,{bordered:"",separator:"",class:"rounded-borders bg-grey-1"},{default:n(()=>[(Q(!0),ee(ae,null,ne(c.value,(s,A)=>(Q(),H(W,{key:A},{default:n(()=>[a(R,null,{default:n(()=>[a(J,null,{default:n(()=>[l("b",null,g(s.Material),1)]),_:2},1024),a(J,{caption:""},{default:n(()=>[_(" Cantidad: "+g(s.CantidadMaterial)+" "+g(s.Unidad)+" — "+g(s.Tipo),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),!c.value||!c.value.length?(Q(),H(W,{key:0},{default:n(()=>[a(R,null,{default:n(()=>[a(J,{class:"text-grey"},{default:n(()=>[...t[34]||(t[34]=[_("No se registraron materiales.",-1)])]),_:1})]),_:1})]),_:1})):Ae("",!0)]),_:1})]),l("div",ut,[t[36]||(t[36]=l("div",{class:"text-h6 text-weight-bold text-primary q-mb-lg text-center"}," Lista de Evidencias ",-1)),l("div",dt,[(Q(!0),ee(ae,null,ne(q.value,(s,A)=>(Q(),ee("div",{key:A,class:"col-10 col-sm-3 col-md-3 col-lg-3"},[a(K,{flat:"",bordered:"",class:"hover-card column items-center q-pa-sm"},{default:n(()=>[a(Ze,{src:s.Ruta,ratio:"1","spinner-color":"primary",class:"rounded-borders shadow-1"},{default:n(()=>[l("div",ct,g(s.Nombre||`Evidencia ${A+1}`),1)]),_:2},1032,["src"]),a(fe,{align:"center",class:"q-mt-xs"},{default:n(()=>[a(B,{flat:"",color:"primary",icon:"visibility",label:"Ver",class:"btn-ver",onClick:de=>I(s)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])])]}),_:1}),a(se),a(fe,{class:"q-gutter-sm",align:"right"},{default:n(()=>[P(a(B,{label:"Aprobar Y finalizar",icon:"check",color:"green"},null,512),[[z]]),a(B,{label:"devolver para correción",icon:"undo",color:"red",onClick:t[2]||(t[2]=d=>w.value=!0)}),P(a(B,{label:"Cerrar",color:"grey"},null,512),[[z]])]),_:1}),a(ve,{modelValue:w.value,"onUpdate:modelValue":t[4]||(t[4]=d=>w.value=d),style:{"min-width":"400px"}},{default:n(()=>[a(K,{style:{"min-width":"400px"}},{default:n(()=>[a(ye,{class:"bg-blue-grey-9 text-white"},{default:n(()=>[a(Se,null,{default:n(()=>[...t[37]||(t[37]=[_("Observacion devolución orden",-1)])]),_:1}),P(a(B,{flat:"",round:"",dense:"",icon:"close",onClick:r.VaciarObservacion},null,8,["onClick"]),[[z]])]),_:1}),a(Z,{"leave-class":""},{default:n(()=>[l("div",gt,[a(me,{type:"textarea",label:"Observación Orden...",modelValue:T.value,"onUpdate:modelValue":t[3]||(t[3]=d=>T.value=d)},null,8,["modelValue"]),l("div",mt,[a(B,{label:"Ejecutar devolución",icon:"undo",color:"green",onClick:V})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{kt as default};
