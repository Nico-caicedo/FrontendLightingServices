import{u as y,r as n,o as v,k as w,l as U,m as o,f as e,n as d,Q as _,p as m,q as Q,t as p,v as b,x,y as L,z as h,P as c}from"./index-CPZClO88.js";import{Q as P}from"./QForm-DObEp2RN.js";import{Q as V,a as I}from"./QLayout-rbEu1-as.js";import{_ as C}from"./LogoCorporativo-BVw7ahIP.js";import{u as q}from"./use-quasar-BvkOuxRj.js";import{api as N}from"./axios-V1RskCk-.js";import{U as l}from"./Utils-BRc1hLid.js";import"./QResizeObserver-CTj2SYEs.js";import"./format-DyQxkAtJ.js";const k={class:"col-12 text-center text-grey-7"},A={__name:"LoginLayout",setup(B){q();const i=y(),g=new Date().getFullYear(),u=n(!0),t=n({});v(async()=>{if(await l.datoUsuario()===null){i.push("/login");return}else i.push("/menu")});const f=async()=>{l.loadingNotify(!0,"Procesando....");const r=await N.post(`/usuario/${t.value.LoginUsuario}/${t.value.PasswordUsuario}/autentica-usuario`);l.notificacion(r.data.Mensaje,r.data.IsExito),console.log(r.data.Dato),c.set("usuarioLigthing",r.data.Dato),l.loadingNotify(!1,""),c.getItem("usuarioLigthing")&&i.push("/menu")};return(r,a)=>(U(),w(I,{view:"lHh Lpr lFf",class:"bg-blue-grey-1"},{default:o(()=>[e(V,{class:"row justify-center col-12"},{default:o(()=>[e(_,{class:"q-pa-lg q-ma-md q-mb-none shadow-2 rounded-borders",style:{"max-width":"400px",width:"90%"}},{default:o(()=>[e(m,{align:"center"},{default:o(()=>[...a[3]||(a[3]=[d("img",{src:C,alt:"Logo",style:{width:"200px",height:"auto"}},null,-1)])]),_:1}),e(m,null,{default:o(()=>[e(P,{onSubmit:Q(f,["prevent"]),class:"q-gutter-md"},{default:o(()=>[e(p,{modelValue:t.value.LoginUsuario,"onUpdate:modelValue":a[0]||(a[0]=s=>t.value.LoginUsuario=s),label:"Usuario",outlined:"","lazy-rules":"",rules:[s=>!!s||"Ingrese su usuario"]},null,8,["modelValue","rules"]),e(p,{modelValue:t.value.PasswordUsuario,"onUpdate:modelValue":a[2]||(a[2]=s=>t.value.PasswordUsuario=s),label:"Contraseña",outlined:"",type:u.value?"password":"text","lazy-rules":"",rules:[s=>!!s||"Ingrese su contraseña"]},{append:o(()=>[e(b,{name:u.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=s=>u.value=!u.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),e(x,{type:"submit",label:"Ingresar",color:"primary",icon:"login",unelevated:"",class:"full-width"})]),_:1})]),_:1})]),_:1}),d("div",k," © NEOSAGE "+L(h(g)),1)]),_:1})]),_:1}))}};export{A as default};
